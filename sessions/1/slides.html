<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>Tests unitaires et TDD en C++ avec GoogleTest</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="../deck.js/core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="../deck.js/extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="../deck.js/extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="../deck.js/extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="../deck.js/extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="../deck.js/extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="../deck.js/themes/style/ingima.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="../deck.js/themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="../deck.js/core/print.css">
  
  <!-- prism.js -->
  <link rel="stylesheet" href="../prism.js/prism.css">

  <!-- Required Modernizr file -->
  <script src="../deck.js/modernizr.custom.js"></script>
</head>
<body>

  <header>
    <img src="../media/ingima-logo.png" class="logo">
  </header>

  <div class="home">

    <article class="deck-container">

  <!--
  #########################################################################################################
  # Content
  #########################################################################################################
  -->
      <section class="slide">
        <h1>
          Tests unitaires et<br><em>Test Driven Development</em> (TDD)<br>en C++ avec GoogleTest<br>
          <p class="achievement slide">Succès réussi : titre de présentation très long !</p>
        </h1>
      </section>

      <section class="slide">
        <h2>Introduction</h2>
        <section>
          <h3>Quelques citations (certaines vécues)</h3>
          <ul>
            <li class="slide"><q>Nos responsables nous demandent de faire de l'agile et des tests unitaires.</q></li>
            <li class="slide"><q>Le chef de projet a lu un article à propos du TDD et a décidé d'en faire.</q></li>
            <li class="slide"><q>Les tests unitaires, c'est une perte de temps.</q></li>
            <li class="slide"><q>On fait des tests unitaires pour montrer au client qu'on teste le logiciel.</q></li>
          </ul>
        </section>
        <section class="slide">
          <h3>Motivations</h3>
          <ul>
            <li class="slide">Démystifier les croyances sur le TDD et les tests unitaires notamment nées des croyances sur l'agile.</li>
            <li class="slide">Proposer une méthode de développement qui facilite avant tout la vie des développeurs.</li>
          </ul>
        </section>
      </section>

      <section class="slide">
        <h2>Introduction (2)</h2>
        <section>
          <h3>Objectifs</h3>
          <ul>
            <li class="slide">Présenter les tests unitaires et le TDD.</li>
            <li class="slide">Présenter une solution de tests unitaires en C++.</li>
          </ul>
        </section>
        <section class="slide">
          <h3>Public visé</h3>
          <ul>
            <li class="slide">Développeurs novices ou expérimentés en C++ (quelques bases sont requises).</li>
            <li class="slide">Novices en TDD qui souhaitent découvrir la méthode.</li>
            <li class="slide">Experts en TDD qui cherchent une solution en C++.</li>
          </ul>
        </section>
      </section>

      <section class="slide">
        <h2>Introduction (3)</h2>
        <h3>Citations</h3>
        <p>
          <q>Unit tests confirm that we have build the software right. Acceptance tests confirm that we have built the right software.</q>
        </p>
        <p>
          <q cite="https://en.wikiquote.org/wiki/Kent_Beck">I'm not a great programmer; I'm just a good programmer with great habits.</q><br>
          <small>Kent Beck créateur de XP et figure principale du TDD dans <cite>Refactoring: Improving the Design of Existing Code</cite>.</small>
        </p>
        <img src="../media/kent_beck.jpg" style="margin-top: 1em; width: 30%">
      </section>

      <section class="slide">
        <h2>Agenda</h2>
        <ol id="sessions_list">
          <li class="slide">
            <p>Introduction au test unitaire, au TDD et au framework GoogleTest</p>
          </li>
          <li class="slide">
            <p>Etude approfondie de GoogleTest, introduction de GoogleMock</p>
          </li>
          <li class="slide">
            <p>Application des concepts appris sur un cas pratique</p>
          </li>
      </section>

      <section class="slide">
        <h1>
          Tests unitaires et<br>TDD en C++<br>avec GoogleTest<br>
          <small>Session n°1</small>
        </h1>
      </section>

      <section class="slide">
        <h2>Session n°1</h2>
        <ol>
          <li class="slide">
            <h3>Tests unitaires et TDD</h3>
            <p>Introduction à la théorie du test unitaire et aux principes du développement piloté par les tests</p>
          </li>
          <li class="slide">
            <h3>GoogleTest Framework</h3>
            <p>Lancement dans le framework C++ léger de test maintenu par Google</p>
          </li>
          <li class="slide">
            <h3>Etude de cas pratique</h3>
            <p>Etude d'un petit cas pratique et tentative d'implémention de quelques tests unitaires</p>
          </li>
        </ol>
      </section>

      <section class="slide">
        <h1>Tests unitaires et TDD</h1>
      </section>

      <section class="slide">
        <h2>Tests unitaires</h2>
        <section>
            <h3>Définition</h3>
            <p>
              Un processus qui <strong>vérifie</strong> qu'une <strong>unité individuelle de code</strong> fait ce qu'elle est <strong>sensée faire</strong>.<br>
              Il est écrit par un <strong>développeur</strong> et fait partie du cycle de <strong>développement</strong> (et non du cycle de validation).
            </p>
        </section>
        <section class="slide">
            <h3>Unité de code</h3>
            <ul>
              <li>une fonction</li>
              <li>une fonctionnalité (<em>use-case</em>)</li>
              <li>une classe</li>
              <li>un module</li>
              <li>une bibliothèque</li>
              <li>etc</li>
            </ul>
            <p>Tout groupe de code qui peut être <strong>isolé</strong>.</p>
        </section>
      </section>

      <section class="slide">
        <h2>Tests unitaires (2)</h2>
        <h3>Caractéristiques</h3>
        <ul>
          <li class="slide">
            Il est <strong>entièrement automatisé</strong><br>
            <small>Pas de tests manuels ici</small>
          </li>
          <li class="slide">
            Il est <strong>déterministe</strong><br>
            <small>Pas d'aléatoire ou de <em>jardinage</em>, <strong>2 lancements => 2x le même résultat</strong></small>
          </li>
          <li class="slide">
            Il est <strong>isolé</strong><br>
            <small>Exécution en mémoire et <strong>pas d'I/O</strong> (fichiers, réseau, BDD, IPC, ...)</small>
          </li>
          <li class="slide">
            Il <strong>contrôle</strong> ce qu'il teste<br>
            <small>Il <strong>isole</strong> le code testé par des <em>mocks/stubs</em> (bouchons)</small>
          </li>
          <li class="slide">
            Il est digne de <strong>confiance</strong><br>
            <small>Pas de faux positif !</small>
          </li>
          <li class="slide">
            Il est <strong>rapide</strong> à exécuter<br>
            <small>Un test lent est une <em>contrainte</em> et <strong>perd tout intérêt</strong></small>
          </li>
        </ul>
      </section>

      <section class="slide">
        <h2>Tests unitaires (3)</h2>
        <h3>En bonus</h3>
        <ul>
          <li class="slide">
            <em>Less is more</em><br>
            <small>Petit et léger vaut mieux que gros et lourd</small></li>
          <li class="slide">
            Il sert de documentation ou d'exemple<br>
            <small>Il est une application directe du code</small>
          </li>
          <li class="slide">
            Il donne à son créateur un air intelligent<br>
            <img src="../media/silly.jpg" style="margin-top: 1em; width: 30%">
          </li>
        </ul>
      </section>
      
      <section class="slide">
        <h2>Tests unitaires (4)</h2>
        <section>
          <h3>Jeu des 7 erreurs</h3>
          <ul>
            <li>Tests de validation ou tests usines ou recette</li>
            <li>Tests système ou tests fonctionnels ou homologation</li>
            <li>Tests d'intégration ou tests techniques</li>
            <li><strong>Tests unitaires</strong></li>
          </ul>
          <figure style="width: 30%">
            <img src="../media/tests_hierarchy.jpg" style="width: 50%">
            <figcaption>http://softwaretestingfundamentals.com/unit-testing/</figcaption>
          </figure>
        </section>
      </section>
      
      <section class="slide">
        <h2>TDD</h2>
        <section>
          <h3>Définition</h3>
          <p>
            <em>Test Driven Development</em> en français <em>développement piloté par les tests</em>.
          </p>
          <p>
            Une méthode de développement qui consiste à <strong>écrire un test unitaire</strong> pour chaque fonctionnalité <strong>avant de l'implémenter</strong>.
          </p>
          <p>
            La façon dont est écrit le test <strong>décide</strong> de la façon dont est implémentée la fonctionnalité.
          </p>
          <img src="../media/tdd.png" style="width: 20%">
        </section>
      </section>
      
      <section class="slide">
        <h2>TDD (2)</h2>
        <section>
          <h3>Cycle basique</h3>
          <ol>
            <li class="slide">Ecriture d'un test unitaire.</li>
            <li class="slide">Vérification que le test unitaire <strong>échoue</strong>.</li>
            <li class="slide">Implémentation du code <strong>le plus simple et naïf possible</strong> qui fasse passer le test.</li>
            <li class="slide">Vérification que le test unitaire <strong>passe</strong>.</li>
            <li class="slide"><strong>Remaniement</strong> du code pour l'améliorer.</li>
          </ol>
          <img src="../media/tdd-cycle.png" style="margin-top: 1em; width: 20%">
        </section>
      </section>
      
      <section class="slide">
        <h2>TDD (3)</h2>
        <section>
          <h3>Avantages</h3>
          <ul>
            <li class="slide">On se concentre sur le <strong>besoin</strong> : le test exprime le besoin.</li>
            <li class="slide">Pas de <strong>sur-réflexion</strong> sur le design : le test décide.</li>
            <li class="slide">Le code est <strong>générique</strong> : le test force l'isolation des composants et donc leur généricité.</li>
            <li class="slide">Le code est <strong>simple</strong>.</li>
            <li class="slide">Les fonctionnalités sont testés : les <strong>régressions</strong> sont surveillées.</li>
          </ul>
        </section>
        <section class="slide">
          <h3>Inconvénients</h3>
          <ul>
            <li class="slide">Ecrire des tests est <strong>chronophage</strong>.</li>
            <li class="slide">C'est <strong>contraignant</strong>.</li>
          </ul>
        </section>
        <section class="slide">
          <p><strong>Mais</strong><br>
          C'est une habitude à prendre. Les avantages finissent par rendre la tâche <strong>confortable</strong> et le temps
          perdu est vite <strong>rentabilisé</strong>.</p>
        </section>
      </section>
      
      <section class="slide">
        <h2>TDD (4)</h2>
        <section>
          <h3>Cycle complet</h3>
          <img src="../media/tdd-cycle-global.png">
        </section>
      </section>
            
      <section class="slide">
        <h1>GoogleTest C++ framework</h1>
      </section>
      
      <section class="slide">
        <h2>GoogleTest</h2>
        <section>
          <h3>Qu'est-ce que c'est ?</h3>
          <p>Une bibliothèque C++ maintenue par Google proposant des fonctions de test similaire à <em>CppUnit</em> ou <em>BoostTest</em>.</p>
          <p>Disponible sur Github : <a href="https://github.com/google/googletest">https://github.com/google/googletest</a></p>
          <p><img src="../media/gtest.png" style="height: 20%"></p>
        </section>
      </section>
      
      <section class="slide">
        <h2>GoogleTest (2)</h2>
        <section>
          <h3>Motivation</h3>
          <ul>
            <li class="slide">Elle est <strong>légère</strong>.</li>
            <li class="slide">Elle est <strong>complète</strong>.</li>
            <li class="slide">Elle est <strong>cross-platform</strong> et se compile avec <em>CMake</em>.</li>
            <li class="slide">Elle est de plus en plus <strong>populaire et reconnue</strong>.</li>
            <li class="slide">Elle est <strong>activement maintenue</strong>.</li>
            <li class="slide">Elle inclut une bibliothèque de <em>mocking</em> <strong>GoogleMock</strong> (prochain session).</li>
          </ul>
        </section>
      </section>
            
      <section class="slide">
        <h2>GoogleTest (3)</h2>
        <section>
          <h3>Utilisation</h3>
          <p>Pour commencer : <a href="https://github.com/google/googletest/blob/master/googletest/docs/Primer.md">https://github.com/google/googletest/blob/master/googletest/docs/Primer.md</a></p>
          <ul>
            <li class="slide">
              <pre><code class="language-cpp">TEST(MyTestCaseName, MyTestName)
{
  ... test code ...
}</code></pre>
            </li>
            <li class="slide">
            <pre><code class="language-cpp">#include &lt;gtest/gtest.h>
int main(int argc, char **argv)
{
  ::testing::InitGoogleTest(&argc, argv);
  return RUN_ALL_TESTS();
}</pre></code>
            </li>
          </ul>
        </section>
      </section>

  <!--

  # References
    * http://artofunittesting.com/definition-of-a-unit-test/
    * http://softwaretestingfundamentals.com/unit-testing/
    * https://stackoverflow.com/questions/652292/what-is-unit-testing-and-how-do-you-do-it
    * https://fr.wikipedia.org/wiki/Test_(informatique)
    * Kent Beck, Test Driven Development : By Example, Addison-Wesley Professional
  -->

  <!--
  #########################################################################################################
  # End of content
  #########################################################################################################
  -->

      <!-- Begin extension snippets. Add or remove as needed. -->

      <!-- deck.navigation snippet -->
      <div aria-role="navigation">
        <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
        <a href="#" class="deck-next-link" title="Next">&#8594;</a>
      </div>

      <!-- deck.status snippet -->
      <p class="deck-status" aria-role="status">
        <span class="deck-status-current"></span>
        /
        <span class="deck-status-total"></span>
      </p>

      <!-- deck.goto snippet -->
      <form action="." method="get" class="goto-form">
        <label for="goto-slide">Go to slide:</label>
        <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
        <datalist id="goto-datalist"></datalist>
        <input type="submit" value="Go">
      </form>

      <!-- End extension snippets. -->

    </article>

  </div>

  <footer>
    <h3>Vincent PALANCHER - vincent.palancher@gmail.com</h3>
  </footer>

  <!-- Required JS files. -->
  <script src="../deck.js/jquery.min.js"></script>
  <script src="../deck.js/core/deck.core.js"></script>

  <!-- Extension JS files. Add or remove as needed. -->
  <script src="../deck.js/extensions/menu/deck.menu.js"></script>
  <script src="../deck.js/extensions/goto/deck.goto.js"></script>
  <script src="../deck.js/extensions/status/deck.status.js"></script>
  <script src="../deck.js/extensions/navigation/deck.navigation.js"></script>
  <script src="../deck.js/extensions/scale/deck.scale.js"></script>

  <!-- Initialize the deck. You can put this in an external file if desired. -->
  <script>
    $(function() {
      $.deck('.slide');
    });
  </script>

  <!-- prism.js -->
  <script src="../prism.js/prism.js"></script>

</body>
</html>
